<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>


</head>

<body>
<nav id="nav-bar-1" class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <div class="collapse navbar-collapse" id="navbarContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0" id="nav-1-left">
        <li class="nav-item">
          <a class="nav-link active"><i class="fa-solid fa-location-dot"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link">Tầng 2, 134 Khuất Duy Tiến, Thanh Xuân, Hà Nội</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active">|</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active"><i class="fa-solid fa-phone"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link">0563.985.555</a>
        </li>
      </ul>
      <ul class="navbar-nav" id="nav-1-right">
        <li class="nav-item">
          <a class="nav-link"> Giới thiệu </a>
        </li>
        <li class="nav-item">
          <a class="nav-link"> Liên hệ </a>
        </li>
        <li class="nav-item">
          <a class="nav-link"> Tin tức </a>
        </li>
        <li class="nav-item">
          <a *ngIf="!isLogin" routerLink="/login" class="nav-link"> Đăng nhập </a>
        </li>
        <li class="nav-item dropdown">
          <a *ngIf="isLogin" style="color:orange;font-weight: bolder" class="nav-link dropdown-toggle" href="#"
             id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Chào: {{username}}
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            <li><a (click)="logout()" class="dropdown-item">Đăng xuất</a></li>
            <li><a class="dropdown-item" href="#">Another action</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link"><i class="fa-brands fa-facebook-f"></i> </a>
        </li>
        <li class="nav-item">
          <a class="nav-link"><i class="fa-brands fa-instagram"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link"><i class="fa-brands fa-twitter"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link"><i class="fa-regular fa-envelope"></i></a>
        </li>

      </ul>
    </div>
  </div>
</nav>

<div class="nav-2 position-relative">
  <div id="img-logo" class="position-absolute top-0 start-0">
    <a routerLink="/home"><img
      src="https://ruouvang68.com/wp-content/uploads/2021/10/Ruouvang68.com-logo-1024x290.png" height="90px"></a>
  </div>
  <label for="btn-checkout" class="nav__pc-btn">
    <i class="fa-solid fa-bars"></i>
  </label>


  <div id="search-form" class="position-absolute top-0 start-50 translate-middle-x">
    <input type="text" class="input-search" placeholder="Tìm kiếm sản phẩm">
    <button class="btn-search"><i class="fa-solid fa-magnifying-glass"></i></button>
    <img class="img-logo-1"
         src="https://ruouvang68.com/wp-content/uploads/2021/10/Ruouvang68.com-logo-1024x290.png" height="90px">
  </div>
  <div id="hot-line" style="margin-top: 10px" class="position-absolute top-0 end-0">
    <div class="div1">
      <img src="https://ruouvang68.com/wp-content/uploads/2021/04/m-icon-left-call-0-1.png" class="img"/>
      <div class="div2">
        <p style="font-size: 20px"> HOTLINE 24/7
        </p>
        <p style="font-size: 20px"> 0563.985.555 </p>
      </div>

    </div>
    <div class="bag-shopping">
      <i class="fa-sharp fa-solid fa-bag-shopping"></i>
    </div>
  </div>
</div>
<div id="nav-pc-3" class="nav__pc-3 position-relative">
  <div id="nav-pc-list-1" class="position-absolute top-0 start-0">
    <ul class="nav__pc-list">
      <li><a routerLink="/home" class="nav__item"><h5>
        TRANG CHỦ
      </h5>
      </a>
      </li>
      <li>
        <div class="dropdown">
          <h5 class="dropbtn">RƯỢU VANG NGOẠI <i style="font-size: 15px" class="fa-solid fa-caret-down"></i></h5>
          <div class="dropdown-content" style="width: 300px">
            <a id="brand-name" *ngFor="let origin of originList" routerLink="/origin/{{origin.id}}/{{origin.name}}">{{origin.name}}
              <hr style="border-top: 1px solid black">
            </a>
          </div>
        </div>
      </li>
      <li>
        <div class="dropdown">
          <h5 class="dropbtn">RƯỢU VANG NGON <i style="font-size: 15px" class="fa-solid fa-caret-down"></i></h5>
          <div class="dropdown-content" style="width: 300px">
            <a *ngFor="let type of typeList" routerLink="/type/{{type.id}}/{{type.name}}">{{type.name}}
              <hr style="border-top: 1px solid black">
            </a>
          </div>
        </div>

      </li>
      <li>
        <div class="dropdown">
          <h5 class="dropbtn">PHỤ KIỆN RƯỢU VANG <i style="font-size: 15px" class="fa-solid fa-caret-down"></i></h5>
          <div class="dropdown-content" style="width: 300px">
            <a *ngFor="let accessory of accessoryList">{{accessory.name}}
              <hr style="border-top: 1px solid black">
            </a>
          </div>
        </div>
      </li>
      <li><a class="nav__item"><h5>
        QUÀ TẾT
      </h5>
      </a>
      </li>
      <li><a class="nav__item"><h5>
        KHUYẾN MÃI
      </h5>
      </a>
      </li>
    </ul>
  </div>
  <div id="nav__pc-3-cart" class="position-absolute top-0 end-0">
    <li class="nav-item dropdown">
      <button style="margin-top: 10px; border-radius: 20px; background: orange; font-weight: bolder" class="nav-link"
              data-toggle="dropdown" href="#">
        GIỎ HÀNG <i class="fa-solid fa-cart-shopping"></i>
        <span *ngIf="invoice.totalQuantity > 0" class="badge badge-danger navbar-badge">{{invoice.totalQuantity}}</span>
      </button>
      <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
        <div *ngIf="invoice.totalQuantity === 0" style="height: 50px; width: 300px">
          <p style="text-align: center; margin-top: 20px">Chưa có sản phẩm nào trong giỏ hàng</p>

        </div>

        <a id="cart-link" class="dropdown-item" *ngFor="let cart of invoice.cartsOfUser">
          <!-- Message Start -->
          <div class="media">
            <a routerLink="/cart"><img src="{{cart.productImg}}" alt="User Avatar" class="img-size-50 mr-3 img-circle"></a>
            <div class="media-body">
              <h3 class="dropdown-item-title">

                <span class="float-right text-sm text-danger"><i id="icon-delete-cart" style="font-size: 20px"
                                                                 (click)="getCartId(cart.id, cart.productName)"
                                                                 data-toggle="modal" data-target="#delete-cart"
                                                                 class="fa-regular fa-circle-xmark"></i></span>
              </h3>
              <a routerLink="/cart"><p style="color:orange" class="text-sm">{{cart.productName}}</p></a>
              <p class="text-sm text-muted">{{cart.quantity}} x {{cart.productPrice}}</p>
            </div>
          </div>
          <!-- Message End -->
        </a>

        <div class="dropdown-divider"></div>
        <p *ngIf="invoice.totalQuantity > 0" class="dropdown-item dropdown-footer">Tổng giá
          tiền: {{invoice.totalPayment}}</p>
        <div class="dropdown-divider"></div>

        <a *ngIf="invoice.totalQuantity > 0" style="background-color: grey" routerLink="/cart" class="btn  dropdown-item dropdown-footer">Xem giỏ hàng</a>
        <a *ngIf="invoice.totalQuantity > 0" style="background-color: yellow; margin-top: 10px"  href="#" class="btn dropdown-item dropdown-footer">Thanh toán</a>
      </div>
    </li>

  </div>

</div>

<div class="nav-search">
  <input type="text" id="search-form-2" placeholder="Tìm kiếm sản phẩm" size="120">
  <button id="btn-search-2"><i class="fa-solid fa-magnifying-glass"></i></button>
</div>
<div style="margin-top: 20px" class="content">
  <div class="content position-relative">
    <div id="cart-detail" class="position-absolute top-0 start-0">
      <h2>GIỎ HÀNG</h2>
      <h3 style="margin-top: 50px; text-align: center" *ngIf="invoice.cartsOfUser.length === 0">Chưa có sản phẩm nào trong giỏ hàng</h3>
      <table class="table" *ngIf="invoice.cartsOfUser.length > 0">
        <thead>
        <tr>
          <th>SẢN PHẨM</th>
          <th></th>
          <th>GIÁ</th>
          <th>SỐ LƯỢNG</th>
          <th>TẠM TÍNH</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let cart of invoice.cartsOfUser">
          <td><img width="70" height="70" src="{{cart.productImg}}"></td>
          <td style="color: orange">{{cart.productName}}</td>
          <td style="font-weight: bolder">{{cart.productPrice}}</td>
          <td> <nav aria-label="Page navigation example">
            <ul class="pagination">
              <li class="page-item"><p (click)="subQuantity(cart.id)" style="cursor: pointer; color: black; height: 30px" class="page-link">-</p>
              </li>
              <li class="page-item"><p style="color: black; height: 30px" class="page-link">{{cart.quantity}}</p></li>
              <li class="page-item"><p (click)="addQuantity(cart.id)" style="cursor: pointer; color: black; height: 30px" class="page-link">+</p>
              </li>
            </ul>
          </nav></td>
          <td style="font-weight: bolder">{{cart.payment}}</td>
          <td><i (click)="getCartId(cart.id, cart.productName)"
                 data-toggle="modal" data-target="#delete-cart"  id="delete-cart-icon" class="fa-regular fa-circle-xmark"></i></td>
        </tr>
        <br>




        </tbody>
      </table>
      <ul style="list-style: none; display: flex ">
        <li>
          <a routerLink="/home" class="btn" style="border: 1px solid black; height: 40px; font-weight: bolder; width: 220px"><i style="font-size: 10px" class="fa-solid fa-left-long"></i>  TIẾP TỤC XEM SẢN PHẨM</a>

        </li>
        <li *ngIf="invoice.cartsOfUser.length > 0">
          <a class="btn" style="margin-left: 10px; border: 1px solid black; background-color: grey; color: white; font-weight: bolder; height: 40px; width: 200px" (click)="updateQuantity()">CẬP NHẬT GIỎ HÀNG</a>

        </li>
      </ul>

    </div>


    <aside *ngIf="invoice.cartsOfUser.length > 0" id="sidebar-content" style="width: 500px; margin-top: 45px" class=" position-absolute top-0 end-0">
      <div class="sidebar">
        <table class="table">
          <thead>
          <tr>
            <th>CỘNG GIỎ HÀNG</th>
            <th></th>

          </tr>
          </thead>
          <tbody>
          <tr>
            <td>Tạm tính</td>
            <td style="text-align: right; font-weight: bolder">{{invoice.totalPayment}}</td>
          </tr>
          <tr>
            <td>Tổng</td>
            <td style="text-align: right; font-weight: bolder">{{invoice.totalPayment}}</td>
          </tr>
          </tbody>
        </table>
        <button class="btn btn-dark" style="width: 470px; height: 50px">TIẾN HÀNH THANH TOÁN</button>
      </div>
    </aside>
  </div>
  <!-- /.col-md-6 -->
</div>


<input class="form-check-input" type="checkbox" hidden id="btn-checkout">
<label for="btn-checkout" class="nav__overlay">
</label>
<nav class="nav__mobile">
  <label for="btn-checkout" class="nav__mobile-close">
    <i class="fa-solid fa-xmark"></i>
  </label>
  <ul *ngIf="!isShowAllBrand" class="nav__mobile-list">
    <li>
      <a href="" class="nav__mobile-link">TRANG CHỦ</a>
    </li>
    <hr>
    <div class="nav-list-23" *ngFor="let category of categoryList">
      <li>
        <label (click)="showAllBrandOfCategory(category.id)" class="nav__mobile-link">{{category.name.toUpperCase()}} <i
          class="fa-solid fa-chevron-down"></i></label>
        <!--        <input class="form-check-input-1"  type="checkbox" id="list-1">-->
        <ul class="list-mobile-1">
          <li class="list-mobile-1-item" *ngFor="let brand of brandList"><a
            *ngIf="brand.categoryId === category.id && isShowAllBrand"><i style="font-size: 7px"
                                                                          class="fa-solid fa-square"></i> {{brand.name}}
          </a></li>
        </ul>
      </li>
      <hr>
    </div>
    <li>
      <a href="" class="nav__mobile-link">QUÀ TẾT</a>
    </li>
    <hr>
    <li>
      <a href="" class="nav__mobile-link">KHUYẾN MÃI</a>
    </li>
    <hr>
    <li>
      <a routerLink="/login" [hidden]="username !== null" class="nav__mobile-link">ĐĂNG NHẬP</a>
      <a style="color: #007bff" *ngIf="username !== null" class="nav-link">Chào: {{username}} <i
        class="fa-solid fa-caret-down"></i> </a>
    </li>
  </ul>
  <ul class="nav__mobile-list" *ngIf="isShowAllBrand">
    <li>
      <h5 style="cursor: pointer" (click)="showSideBar()" class="nav__mobile-link"><i
        style="margin-right: 14px; font-size: 20px"
        class="fa-solid fa-chevron-left"></i> {{category.name.toUpperCase()}}</h5>
      <ul class="list-mobile-1">
        <li class="list-mobile-1-item" *ngFor="let brand of brandList"><a>{{brand.name}}</a></li>
      </ul>
    </li>
  </ul>
</nav>
</body>
<style>

</style>
</html>
<div class="modal fade" id="delete-cart" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Bạn chắc chắn muốn xóa sản phẩm "{{productName}}" khỏi giỏ hàng
          chứ?</h5>
        <span type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></span>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="deleteCart(cartId)">Xóa</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
      </div>

    </div>
  </div>
</div>
